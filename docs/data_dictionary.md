# Data Dictionary

This document provides a description of the database tables and the columns within key CSV files generated by the Hospital Readmission project.

## 1. PostgreSQL Database Tables

The `hospital_data` PostgreSQL database contains the following primary tables. The schema is defined in `src/database/hospital_readmission.sql`.

### `patients` Table

Stores information about individual patients.

| Column          | Data Type     | Description                                     |
|-----------------|---------------|-------------------------------------------------|
| `patient_id`    | INTEGER       | Unique identifier for the patient (Primary Key) |
| `first_name`    | VARCHAR(50)   | Patient's first name                            |
| `last_name`     | VARCHAR(50)   | Patient's last name                             |
| `date_of_birth` | DATE          | Patient's date of birth                         |
| `gender`        | VARCHAR(10)   | Patient's gender (e.g., 'Male', 'Female')       |

### `doctors` Table

Stores information about medical doctors.

| Column      | Data Type     | Description                                   |
|-------------|---------------|-----------------------------------------------|
| `doctor_id` | INTEGER       | Unique identifier for the doctor (Primary Key) |
| `first_name`| VARCHAR(50)   | Doctor's first name                           |
| `last_name` | VARCHAR(50)   | Doctor's last name                            |
| `specialty` | VARCHAR(100)  | Medical specialty of the doctor               |

### `admissions` Table

Stores details of each hospital admission.

| Column           | Data Type | Description                                                       |
|------------------|-----------|-------------------------------------------------------------------|
| `admission_id`   | INTEGER   | Unique identifier for the admission (Primary Key)                 |
| `patient_id`     | INTEGER   | Foreign key referencing `patients.patient_id`                     |
| `admission_date` | TIMESTAMP | Date and time of patient admission                                |
| `discharge_date` | TIMESTAMP | Date and time of patient discharge                                |
| `length_of_stay` | INTEGER   | Duration of the hospital stay in days                             |
| `readmitted`     | BOOLEAN   | Flag indicating if the patient was readmitted (True/False)        |

### `diagnoses` Table

Stores diagnosis information related to admissions.

| Column          | Data Type     | Description                                                       |
|-----------------|---------------|-------------------------------------------------------------------|
| `diagnosis_id`  | INTEGER       | Unique identifier for the diagnosis (Primary Key)                 |
| `admission_id`  | INTEGER       | Foreign key referencing `admissions.admission_id`                 |
| `diagnosis_code`| VARCHAR(20)   | Standardized code for the diagnosis (e.g., ICD-10)                |
| `description`   | VARCHAR(255)  | Text description of the diagnosis                                 |

### `admission_doctors` Table

A junction table linking admissions to the doctors involved in that admission.

| Column         | Data Type | Description                                         |
|----------------|-----------|-----------------------------------------------------|
| `id`           | SERIAL    | Unique identifier for the link (Primary Key)        |
| `admission_id` | INTEGER   | Foreign key referencing `admissions.admission_id`   |
| `doctor_id`    | INTEGER   | Foreign key referencing `doctors.doctor_id`         |

---

## 2. Processed CSV Files

These CSV files are generated by the ETL and data processing scripts and are typically stored in the `data/processed/` directory.

### `transformed_admissions.csv`

This file contains the admissions data after initial cleaning and transformation. It is derived primarily from the `admissions` table with some added features.

| Column              | Data Type     | Description                                                                 |
|---------------------|---------------|-----------------------------------------------------------------------------|
| `admission_id`      | Integer       | Unique identifier for the admission                                         |
| `patient_id`        | Integer       | Unique identifier for the patient                                           |
| `admission_date`    | Datetime      | Date and time of patient admission                                        |
| `discharge_date`    | Datetime      | Date and time of patient discharge                                        |
| `length_of_stay`    | Integer       | Duration of the hospital stay in days                                     |
| `readmitted`        | Boolean       | Flag indicating if the patient was readmitted (True/False)                |
| `admission_month`   | Integer       | Month of admission (1-12)                                                   |
| `stay_length_group` | String        | Categorical group for length of stay (e.g., 'Short (0-2)', 'Medium (3-5)') |
| `readmission_label` | String        | Descriptive label for readmission status ('Yes'/'No')                       |

### `admission_enriched.csv`

This file contains a more comprehensive dataset created by joining data from `admissions`, `patients`, `doctors`, and `diagnoses` tables. It serves as the primary dataset for detailed analysis and EDA.

| Column           | Data Type     | Description                                                        |
|------------------|---------------|--------------------------------------------------------------------|
| `admission_id`   | Integer       | Unique identifier for the admission                                |
| `patient_id`     | Integer       | Unique identifier for the patient                                  |
| `patient_name`   | String        | Full name of the patient                                           |
| `gender`         | String        | Patient's gender                                                   |
| `age`            | Integer       | Age of the patient at the time of admission (in years)             |
| `admission_date` | Datetime      | Date and time of patient admission                                 |
| `discharge_date` | Datetime      | Date and time of patient discharge                                 |
| `length_of_stay` | Integer       | Duration of the hospital stay in days                              |
| `readmitted`     | Boolean       | Flag indicating if the patient was readmitted (True/False)         |
| `doctor_id`      | Integer       | Unique identifier for the doctor (can be null if no doctor linked) |
| `doctor_name`    | String        | Full name of the doctor (can be null)                              |
| `specialty`      | String        | Medical specialty of the doctor (can be null)                      |
| `diagnosis_code` | String        | Diagnosis code (can be null if no diagnosis linked)                |
| `description`    | String        | Diagnosis description (can be null)                                |

### `features.csv`

This file is intended to store the final set of features engineered and selected for potential use in predictive modeling. The exact columns will depend on the feature engineering steps implemented in `src/data_processing/feature_engineering.py`.

*(Note: The specific columns in `features.csv` should be detailed here once the feature engineering script is finalized and populates this file.)*

Example potential columns (actual columns may vary):

| Column                      | Data Type | Description                                                              |
|-----------------------------|-----------|--------------------------------------------------------------------------|
| `admission_id`              | Integer   | Unique identifier for the admission                                      |
| `age_group`                 | String    | Categorical age group of the patient                                     |
| `length_of_stay_category`   | String    | Categorized length of stay                                               |
| `number_of_prior_admissions`| Integer   | Count of previous admissions for the patient                             |
| `has_comorbidity_X`         | Boolean   | Flag indicating presence of a specific comorbidity (e.g., diabetes)      |
| ... (other engineered features) ... |
| `readmitted_target`         | Integer   | Target variable for prediction (e.g., 1 if readmitted, 0 otherwise)      |

This data dictionary should be updated as the project evolves, especially if new tables, columns, or CSV files are added or modified.
